@page "/subjekty/pridat"
@using Invoices.Shared.Models
@using Invoices.Blazor.Services
@using Invoices.Shared.Models.Person
@using Invoices.Shared.Models.Common
@using Invoices.Blazor.Components.Person.Form
@inject PersonService PersonService

<MudPaper Class="pa-16 ma-8">
    <MudText Typo="Typo.h5">Vytvořit novou osobu</MudText>

    <PersonForm Person="person" IsEdit="false" OnSubmit="CreatePersonAsync" />

</MudPaper>

@code {
    private PersonDto person = new();

    private async Task CreatePersonAsync (PersonDto model)
    {
        var created = await PersonService.CreateAsync(model);

        if (created != null)
        {
            // TODO: redirect na seznam nebo detail
        }
    }

}
